{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst anecdotesAtStart = [];\n\nconst getId = () => (100000 * Math.random()).toFixed(0);\n\nconst asObject = anecdote => {\n  return {\n    content: anecdote,\n    id: getId(),\n    votes: 0\n  };\n};\n\nconst initialState = anecdotesAtStart.map(asObject);\nconst anecdoteSlice = createSlice({\n  name: 'anecdotes',\n  initialState,\n  reducers: {\n    vote(state, action) {\n      const id = action.payload;\n      const anecdoteToChange = state.find(a => a.id === id);\n      const changedAnecdote = { ...anecdoteToChange,\n        votes: anecdoteToChange.votes + 1\n      };\n      state.map(anecdote => anecdote.id !== id ? anecdote : changedAnecdote);\n    },\n\n    create(state, action) {\n      state.push({\n        content: action.payload,\n        id: getId(),\n        votes: 0\n      });\n    },\n\n    appendAnecdote(state, action) {\n      state.push(action.payload);\n    },\n\n    setAnecdotes(state, action) {\n      return action.payload;\n    }\n\n  }\n});\nexport const {\n  vote,\n  create,\n  appendAnecdote,\n  setAnecdotes\n} = anecdoteSlice.actions;\nexport default anecdoteSlice.reducer;","map":{"version":3,"sources":["/home/katjaker/FullStack/osa6/redux-anecdotes/src/reducers/anecdoteReducer.js"],"names":["createSlice","anecdotesAtStart","getId","Math","random","toFixed","asObject","anecdote","content","id","votes","initialState","map","anecdoteSlice","name","reducers","vote","state","action","payload","anecdoteToChange","find","a","changedAnecdote","create","push","appendAnecdote","setAnecdotes","actions","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,gBAAgB,GAAG,EAAzB;;AAEA,MAAMC,KAAK,GAAG,MAAM,CAAC,SAASC,IAAI,CAACC,MAAL,EAAV,EAAyBC,OAAzB,CAAiC,CAAjC,CAApB;;AAEA,MAAMC,QAAQ,GAAIC,QAAD,IAAc;AAC7B,SAAO;AACLC,IAAAA,OAAO,EAAED,QADJ;AAELE,IAAAA,EAAE,EAAEP,KAAK,EAFJ;AAGLQ,IAAAA,KAAK,EAAE;AAHF,GAAP;AAKD,CAND;;AAQA,MAAMC,YAAY,GAAGV,gBAAgB,CAACW,GAAjB,CAAqBN,QAArB,CAArB;AAEA,MAAMO,aAAa,GAAGb,WAAW,CAAC;AAChCc,EAAAA,IAAI,EAAE,WAD0B;AAEhCH,EAAAA,YAFgC;AAGhCI,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,CAACC,KAAD,EAAQC,MAAR,EAAgB;AAClB,YAAMT,EAAE,GAAGS,MAAM,CAACC,OAAlB;AACA,YAAMC,gBAAgB,GAAGH,KAAK,CAACI,IAAN,CAAWC,CAAC,IAAIA,CAAC,CAACb,EAAF,KAASA,EAAzB,CAAzB;AACA,YAAMc,eAAe,GAAG,EACtB,GAAGH,gBADmB;AAEtBV,QAAAA,KAAK,EAAEU,gBAAgB,CAACV,KAAjB,GAAyB;AAFV,OAAxB;AAIAO,MAAAA,KAAK,CAACL,GAAN,CAAUL,QAAQ,IAChBA,QAAQ,CAACE,EAAT,KAAgBA,EAAhB,GAAqBF,QAArB,GAAgCgB,eADlC;AAGD,KAXO;;AAaRC,IAAAA,MAAM,CAACP,KAAD,EAAQC,MAAR,EAAgB;AACpBD,MAAAA,KAAK,CAACQ,IAAN,CAAW;AACTjB,QAAAA,OAAO,EAAEU,MAAM,CAACC,OADP;AAETV,QAAAA,EAAE,EAAEP,KAAK,EAFA;AAGTQ,QAAAA,KAAK,EAAE;AAHE,OAAX;AAKD,KAnBO;;AAqBRgB,IAAAA,cAAc,CAACT,KAAD,EAAQC,MAAR,EAAgB;AAC5BD,MAAAA,KAAK,CAACQ,IAAN,CAAWP,MAAM,CAACC,OAAlB;AACD,KAvBO;;AAyBRQ,IAAAA,YAAY,CAACV,KAAD,EAAQC,MAAR,EAAgB;AAC1B,aAAOA,MAAM,CAACC,OAAd;AACD;;AA3BO;AAHsB,CAAD,CAAjC;AAkCA,OAAO,MAAM;AAAEH,EAAAA,IAAF;AAAQQ,EAAAA,MAAR;AAAgBE,EAAAA,cAAhB;AAAgCC,EAAAA;AAAhC,IAAiDd,aAAa,CAACe,OAArE;AAEP,eAAef,aAAa,CAACgB,OAA7B","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nconst anecdotesAtStart = []\n\nconst getId = () => (100000 * Math.random()).toFixed(0)\n\nconst asObject = (anecdote) => {\n  return {\n    content: anecdote,\n    id: getId(),\n    votes: 0\n  }\n}\n\nconst initialState = anecdotesAtStart.map(asObject)\n\nconst anecdoteSlice = createSlice({\n  name: 'anecdotes',\n  initialState,\n  reducers: {\n    vote(state, action) {\n      const id = action.payload\n      const anecdoteToChange = state.find(a => a.id === id)\n      const changedAnecdote = {\n        ...anecdoteToChange,\n        votes: anecdoteToChange.votes + 1\n      }\n      state.map(anecdote =>\n        anecdote.id !== id ? anecdote : changedAnecdote\n      )      \n    },\n\n    create(state, action) {\n      state.push({\n        content: action.payload,\n        id: getId(),\n        votes: 0\n      })\n    },\n\n    appendAnecdote(state, action) {\n      state.push(action.payload)\n    },\n    \n    setAnecdotes(state, action) {\n      return action.payload\n    }\n  }\n})\n\nexport const { vote, create, appendAnecdote, setAnecdotes } = anecdoteSlice.actions\n\nexport default anecdoteSlice.reducer"]},"metadata":{},"sourceType":"module"}